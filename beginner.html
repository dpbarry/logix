<!DOCTYPE html>

<html lang="en">
    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <link rel="stylesheet" href="main.css">

        <!-- COMPUTER MODERN SERIF -->
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css">

        
        <title>Logix</title>    
        <style>
         @view-transition {
           navigation: auto;
         }

         * {
           font-family: computer modern serif;
         }
         
         #level {
           text-align: left;
           font-weight: lighter;
           font-size: 2rem;
           margin-top: 4vh;
           margin-left: 4vw;
         }
         td {
           border: 1px solid #000000;
           text-align: center;
           border-radius: 2px;
         }

         input {
           color: #000000;
           padding: 0;
           border: 0;
           text-align: center;
           width: 10vmin;
           height: 10vmin;
           font-size: 5vmin;
           outline: none;
         }

         td.given {
           background-color: #EEEEEE;
         }

         

         #wrap {
           margin-top: 20vh;
           float: left;
           position: relative;
           left: 50%;
         }
         #grid {
           float: left;
           position: relative;
           left: -60%;
         }

         .x-axis {
           font-size: 3vmin;
           font-style: italic;
           border: 0px;
           height: 8vmin;
         }
         .y-axis {
           font-size: 3vmin;
           font-style: italic;
           border: 0px;
           width: 8vmin;
         }
         
        </style>
    </head>

    <body>
        <h1 id="level">1.1</h1>
        <div id="wrap">
            <table id="grid">
                
                <tr>
                    <td class="y-axis">3</td>
                    <td class="given" id ="3.1"><input id="i3.1" type="text" value="1" disabled id></td>
                    <td id="3.2"><input id="i3.2" type="text"></td>
                    <td class="given" id="3.3"><input id="i3.3" type="text" value="0" disabled></td>
                </tr>
                <tr>
                    <td class="y-axis">2</td>
                    <td id="2.1"><input id="i2.1" type="text"></td>
                    <td id="2.2" class="given"><input id="i2.2" type="text" value="1" disabled></td>
                    <td id="2.3"><input id="i2.3" type="text"></td>
                </tr>
                <tr>
                    <td class="y-axis">1</td>
                    <td id="1.1"><input id="i1.1" type="text"></td>
                    <td id="1.2" class="given"><input id="i1.2" type="text" value="1" disabled></td>
                    <td id="1.3"><input id="i1.3" type="text"></td>
                </tr>
                
                <tr>
                    <td class="x-axis"></td>
                    <td class="x-axis">1</td>
                    <td class="x-axis">2</td>
                    <td class="x-axis">3</td>
                </tr>
                

            </table>

        </div>  

        <script>

         function crosshairs(id) {
           console.log(id);
           var cells = document.querySelectorAll('td');
           for (var i = 0; i < cells.length; i++) {
             if (cells[i].id.slice(0,1) == id.slice(0,1) || cells[i].id.slice(2) == id.slice(2)) {
               cells[i].style.backgroundColor = "red";
             }
           }
         }
         
         var inputs = document.querySelectorAll('input');
         for(var i = 0; i < inputs.length; i++){
           if (inputs[i].id == undefined) {
             continue;
           }
           inputs[i].onfocus = function () { crosshairs(this.id.slice(1)) };
         }
         
         
         const inputList = document.querySelectorAll('input[type=text]');
         const regex = new RegExp("^[0-9]*$");

         inputList.forEach((input) => {
           input.addEventListener("beforeinput", (event) => {
             if (event.data != null && !regex.test(event.data)) 
               event.preventDefault();
           });
         });

         
        </script>

        
</html>
