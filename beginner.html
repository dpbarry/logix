<!DOCTYPE html>

<html lang="en">
    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <link rel="stylesheet" href="main.css">

        <!-- COMPUTER MODERN SERIF -->
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css">

        
        <title>Logix</title>    
        <style>
         
         * {
           font-family: computer modern serif;
         }
         
         #level {
           text-align: left;
           font-weight: lighter;
           font-size: 2rem;
           margin-top: 4vh;
           margin-left: 4vw;
         }
         td {
           padding: 1px;
           border: 1px solid #000000;
           text-align: center;
           border-radius: 2px;
         }

         input {
           color: #000000;
           background: transparent; /* Otherwise clashes with td color */
           padding: 0;
           border: 0;
           text-align: center;
           width: 10vmin;
           height: 10vmin;
           font-size: 5vmin;
           outline: none;
         }

         td.given {
           background-color: #EEEEEE;
         }

         
         #grid {
           margin: auto;
           margin-top: 10vmin;
           position: relative;
           left: -4vmin; /* Compensates for the y-axis */
         }
         
         #propositions {
           text-align: center;
           font-weight: bolder;
         }
         
         .x-axis {
           font-size: 3vmin;
           font-style: italic;
           border: 0px;
           height: 8vmin;
         }
         .y-axis {
           font-size: 3vmin;
           font-style: italic;
           border: 0px;
           width: 8vmin;
         }
        </style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" integrity="sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
                onload="renderMathInElement(document.body);"></script>
    </head>
    
    <body>
        
        <h1 id="level">1.1</h1>
        <div id="propositions">
            <p>\(\begin{bmatrix}
                2 \\
                1
                \end{bmatrix}     >

                \begin{bmatrix}
                1 \\
                2
                \end{bmatrix}
                \)

                

            </p>
        </div>
        
        <table id="grid">
            
            <tr>
                <td class="y-axis">3</td>
                <td><input type="text"></td>
                <td class="given"><input type="text" value="2" disabled id></td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td class="y-axis">2</td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td class="given"><input type="text" value="3" disabled></td>
            </tr>
            <tr>
                <td class="y-axis">1</td>
                <td class="given"><input type="text" value="1" disabled></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
            </tr>
            
            <tr>
                <td class="x-axis"></td>
                <td class="x-axis">1</td>
                <td class="x-axis">2</td>
                <td class="x-axis">3</td>
            </tr>
        </table>


        
        <script>

         // fetch all inputs and cells
         const inputList = document.querySelectorAll('input[type=text]');
         const cellList = document.querySelectorAll('td');

         // id them with their coordinates
         for (let i=0; i < inputList.length; i++) {
           inputList[i].id = `i${3-(Math.floor(i/3))}.${1+i%3}`;
           
         }

         var j=0;
         for (let i=0; i < cellList.length; i++) {
           if (cellList[i].className != "x-axis" && cellList[i].className != "y-axis") {
             cellList[i].id = `c${3-(Math.floor(j/3))}.${1+j%3}`;
             j++;
           }
           
         }

         
         const regex = new RegExp("^[0-9]*$");

         inputList.forEach((input) => {
           input.addEventListener("beforeinput", (event) => {
             if (event.data != null && !regex.test(event.data)) 
               event.preventDefault();
           });
         });
         
         
         for(var i = 0; i < inputList.length; i++){
           if (inputList[i].id == undefined) {
             continue;
           }
           inputList[i].onfocus = function () { crosshairs(this.id); };
         }
         
         
         


         // given the id of a cell, emphasize borders of cells in that row and column
         function crosshairs(id) {
           for (var i = 0; i < cellList.length; i++) {
             if (cellList[i].id.slice(1) == id.slice(1)) {
               cellList[i].style.backgroundColor = "#F1EEDC";
             } else if (cellList[i].className != "given"){
               cellList[i].style.backgroundColor = "#FFFFFF";
             }
             // check that the cell matches in row or column
             if (cellList[i].id.slice(1,2) == id.slice(1,2) || cellList[i].id.slice(3) == id.slice(3)) {
               cellList[i].style.border = "2px solid #000000";
               cellList[i].style.padding = "0px";
             }
             // reset the styles of other cells without messing up the axis labels
             else if (cellList[i].className != "y-axis" && cellList[i].className != "x-axis") {
               cellList[i].style.border = "1px solid #000000";
               cellList[i].style.padding = "0px";
               
             }
           }
         }

         
        </script>

        
</html>
