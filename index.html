<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1, interactive-widget=resizes-content">

        <link rel="stylesheet" href="style.css">

        <!-- COMPUTER MODERN SERIF -->
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css">

        <!-- SOURCE SERIF 4 -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap" rel="stylesheet">


        <title>Logix</title>
        <link rel="icon" type="image/png" href="images/MATHCAL_L.png">

        <style>

         html, body {
           margin: 0; 
         }
         #main-header {
           text-align: center;
           margin: 0;
           margin-top: 8px;
           margin-bottom: 5px;

           font-family: computer modern serif;
           font-weight: normal;
           font-size: 3.1rem;
         }

         
         @keyframes nudge {
           0% { transform: translateY(0%); }
           50% { transform: translateY(2.25%); }
           100% {transform: translateY(0%); }
         }

         button {
           border: 0;
           outline: 0;
           position: absolute;  
           
           margin: 0;
           margin-bottom: 14px;
           
           cursor: pointer;
           
           z-index: 1; 

           opacity: 1;
           transition: opacity 0.2s;
         }

         #preferences {
           top: 20px;
           right: 20px;
           height: 32px;
           width: 32px;
         }

         #info {
           top: 20px;
           left: 20px;
           height: 40px;
           width: 40px;
         }

         @media(hover: hover) and (pointer: fine) {
           button:hover { opacity: 0.72; }
         }
         button:active {
           animation:  nudge 0.5s ease forwards;        }

         #info { background: url("images/INFO.svg"); }
         #preferences { background: url("images/PREFERENCES.svg"); }
         

         


         .close {
           position: absolute;
           right: 20px;
           top: 18px;
           width: 30px;
           height: 30px;
           cursor: pointer;
           border-radius: 5px;
         }
         .close:hover:before, .close:hover:after {
           background-color: #000000;
         }
         .close:before, .close:after {
           border-radius: 10px;
           left: 15px;
           content: ' ';
           height: 28px;
           width: 1px;
           background-color: #444444;
           position: absolute;
         }
         .close:before {
           transform: rotate(45deg);
         }
         .close:after {
           transform: rotate(-45deg);
         }

         #overlay {
           position: fixed; 
           display: block; 
           width: 100%; 
           height: 0;
           top: 0;
           left: 0;
           right: 0;
           bottom: 0;
           z-index: 2;

           background-color: rgba(0,0,0,0.1);
           opacity: 0;
           transition: opacity .2s;
         }

         #overlay:has(~ dialog[open]) {
           height: 100%;
           opacity: 0.4;
         }
         #overlay:has(~ .hide ) {
           opacity: 0 !important;
         }

         
         dialog {
           outline: 0;
           
           position: fixed;
           margin: auto;
           display: block;
           
           font-family: "source serif 4";
           width: min(80vw, 500px);
           height: 51vh;
           visibility: hidden;
           transition: transform cubic-bezier(.25,1,.25,1) 0.25s;
           transform: scale(0);
         }

         dialog::backdrop {
           opacity: 0;
         }

         dialog[open] {
           transform: scale(1);

           visibility: visible;
           border: 1px solid #C7C7C7;
           border-radius: 10px;
           box-shadow: 0 0 8px 2px rgba(0, 0, 0, 0.15),
           0 0 30px 15px rgb(0,0,0,0.1);
         }
         dialog.hide {
           transition: transform ease 0.15s;

           transform: scale(0);
         }

         
         dialog {
           h1 {
             margin-top:-10px;
             margin-bottom: 20px;
             font-size: 1.95rem;
             font-weight: 600;
             text-align: center;
           }
           label {
             margin-right: 1px;
           }
           input {
             margin: 0;
             margin-bottom: 4px;
             appearance: none;
             height: 26px;
             width: 60px;
             background-color: #C0C0C0;
             position: relative;
             border-radius: 15px;
             cursor: pointer;
             transition: all 0.2s ease;
           }

           input::before {
             content: '';
             display: block;
             height: 18px;
             width: 21px;
             transform: translate(-50%, -50%);
             position: absolute;
             top: 50%;
             left: 16px;
             background-color: #3f3f3f;
             border-radius: 18px;
             transition: all 0.2s ease;
           }
           input:hover {
             filter: brightness(94%);
           }
           input:focus {
             outline: 0;
             filter: brightness(94%);
           }

           input:checked {
             background-color: #A4C1A0;
           }

           input:checked::before {
             background-color: #3e4d3c;
             left: calc(100% - 16px);
           }
           #configs {
             margin-left: 2vw;
             margin-right: 2vw;
             font-size: 1.4rem;
             font-weight: 400;
             display:flex;
             align-items: flex-end;
             justify-content: left;
             flex-wrap: wrap;
             gap: 10px;
           }
           p {
             margin: 0;
             font-style: italic;
             font-weight: 350;
             font-size: 1rem;
             flex-basis:100%;
             text-align: left;
           }

           #preferences_dialog {
             max-width: 500px;
           }
         }
         

         #wrap_cards {
           display: flex;
           position: absolute;
           top: 50%;
           transform: translateY(-50%);
           width: 100%;

           
         }
         .card {
           
           padding: 15px;
           width: 100%;

           background-color: #FAFAFA;
           border-radius: 8px;
           box-shadow: 0 0 3px #EAEAEA , 0 0px 1px  #CCC, 0 5px 7px -7px #CCC ;

           font-family: "Source Serif 4";

           display: flex;
           flex-direction: column;
           align-items: center;
           justify-content: flex-start;

           h2 {
             font-family: "Source Serif 4";
             font-size: 1.85rem;
             font-weight: 700;
             margin-top: -10px;
             margin-bottom: 8px;
             
           }
         }

         @media (orientation: portrait) {
           .card:not(#training) {
             visibility: hidden;
           }

           #training {
             position: absolute;
             left: 50%;
             transform: translate(-50%, -50%);
             width: 75vw;
           }
         }
         @media (orientation: landscape)  {
           #wrap_cards {
             width: 90vw;
             left: 50%;
             transform: translate(-50%,-50%);
             flex-direction: row;
             gap: 15px;
             justify-content: center;
           }
           .card {
             width: 275px;
           }
         }
         
         li {
           display: flex;
           flex-direction: row;
           justify-content: flex-start;
           align-items: center;

           width: 100%;
           height: 47px;
           border-radius: 2px;
           margin-bottom: 15px;

           
           
           border: 1px solid #AAA;
           box-shadow: 0 2px 3px #DFDFDF, 0 0 2px #EEE;

           list-style-type: none;
           cursor: pointer;
           
           transition: width .2s ease, background .2s ease-out, box-shadow .2s ease-out, top .2s ease-out;

           /* For on-click nudge animation */
           position: relative;
           top: 0;

           &:last-of-type {margin-bottom: 0px;}
         }
         

         @media (hover: hover) and (pointer: fine) {
           li:hover {
             width: 103%;
             background-color: #f1eedc !important;
             box-shadow: 0 3px 6px rgba(154,154,154,.25), 0 0 2px rgba(154,154,154,.3);

             & > .stage-content {
               font-weight: 500;
             }
           }
         }

         li:active, li:focus {
           width: 103%;
           background-color: #f1eedc !important;
           box-shadow: 0 3px 6px rgba(154,154,154,.25), 0 0 2px rgba(154,154,154,.3);
           outline: 0;
         }

         li:active, li.activated {
           top: 2px;
         }
         li#s1 { background-color: rgb(0,0,0,0); }

         li#s2 { background-color: rgb(0,0,0, 0.15);   }

         li#s3 { background-color: rgb(0,0,0,0.15);  }

         li#s4 { background-color: rgb(0,0,0,0.15);  }

         li#s5 { background-color: rgb(0,0,0,0.15); }


         p {
           margin: 0;
         }
         

         .stage-content {
           font-size: 1.25rem;
           font-weight: 325;
           position: relative;
           left: 15px;

           transition: 0.15s font-weight ease;
         }
         
        </style>
    </head>

    <body>
        <button id="info" onclick="showModal('info_dialog')"></button>
        
        <button id="preferences" onclick="showModal('preferences_dialog')"></button>
        <dialog id="info_dialog">
            <a class="close"></a>
            <h1>INFO</h1>
        </dialog>

        <div id="overlay"></div>
        <dialog id="preferences_dialog">
            <a class="close"></a>
            <h1>PREFERENCES</h1>
            <div id="configs">
                <label> Theme </label>
                <input id="highlight_toggle" type="checkbox" checked>
                <p>todo</p>

                <label> Language </label>
                <input id="highlight_toggle" type="checkbox" checked>
                <p>todo</p>
            </div>
        </dialog>

        <h1 id="main-header">LOGIX</h1>
        <div id="wrap_cards">
            <ul id="training" class="card">
                <h2> Training </h2>
                <li id ="s1" class="animated-border-box">
                    <p class="stage-content"> Propositions </p>
                </li>

                <li id ="s2">
                    <p class="stage-content"> Connectives </p>
                </li>

                <li id ="s3">
                    <p class="stage-content"> Quantifiers </p>
                </li>

                <li id ="s4">
                    <p class="stage-content"> Set Theory </p>
                </li>

                <li id ="s5">
                    <p class="stage-content"> Relations </p>
                </li>
            </ul>
            <ul class="card">
                <h2> Normal </h2>
                
            </ul>
            <ul class="card">
                <h2> Difficult </h2>     
            </ul>
            <ul class="card">
                <h2> Extreme </h2>           
            </ul>
        </div>
    </body>

    <script>
     document.querySelectorAll("#training li").forEach((l) =>
       l.onclick = function () {
         this.blur();
       }
     );
     
     document.getElementById("s1").onclick = function () {
       setTimeout(function () { location.href = "beginner.html"; }, 50);
     };
     document.getElementById("s1").onkeydown = function (e) {
       if (e.key != " " && e.key != "Enter") return;
       e.target.classList.add("activated");
       setTimeout(function () { location.href = "beginner.html"; }, 50);
     };


     document.querySelectorAll("li").forEach(l => {l.tabIndex = 0;});

     function showModal(id) {
       document.getElementById(id).showModal();
     }

     const dialogList = document.querySelectorAll('dialog');

     function closeDialog (event) {
       event.target.close();
       event.target.classList.remove("hide");
       event.target.removeEventListener("transitionend", closeDialog);
     }
     
     dialogList.forEach((dialog) => {
       dialog.addEventListener('click', (e) => {
         if (e.target.tagName !== 'DIALOG')
           return;

         const rect = e.target.getBoundingClientRect();

         const clickedInDialog = (
           rect.top <= e.clientY &&
           e.clientY <= rect.top + rect.height &&
           rect.left <= e.clientX &&
           e.clientX <= rect.left + rect.width
         );

         if (clickedInDialog === false) {
           e.target.classList.add("hide");
           
           e.target.addEventListener("transitionend", closeDialog);
       }});

       dialog.addEventListener('keydown', (e) => {
         if (e.key == "Escape") {

           e.preventDefault();
           e.target.classList.add("hide");

           e.target.addEventListener("transitionend", closeDialog);
         }
       });
     });

     document.querySelectorAll(".close").forEach( (closeButton) => {
       closeButton.addEventListener("click", (e) => {
         closeButton.parentNode.classList.add("hide");
         closeButton.parentNode.addEventListener("transitionend", closeDialog);
       });
     });

     document.querySelectorAll("dialog input").forEach((toggle) => {
       toggle.addEventListener("keydown", (e) => {
         if (e.key == "Escape") {
           e.preventDefault();
           e.target.closest("dialog").classList.add("hide");
           e.target.closest("dialog").addEventListener("transitionend", closeDialog);
         }
       });
     });
    </script>

    
</html>

