<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Update Levels</title>
        <script src="data-parser.js"></script>
    </head>

    <body>
        <input type="file" id="fileInput" accept=".txt" multiple>
    </body>
    <script>
     function pause(msec) {
       return new Promise(
         (resolve, reject) => {
           setTimeout(resolve, msec);
         }
       );
     }
     
     document.getElementById('fileInput').addEventListener('change', (event) => {
       batchParse(event.target.files);
     });


     async function batchParse(files) {
       let i = 0;
       for (const file of files) {
         i+=2;
         if (i === 10) {await pause(1000); i = 0;}
         let fileContent = await file.text();
         parseDataFile(fileContent);
       }
     }
    </script>

</html>
